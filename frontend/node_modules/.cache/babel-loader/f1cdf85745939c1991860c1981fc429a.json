{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bruno\\\\Desktop\\\\Pryecto\\\\frontend\\\\src\\\\components\\\\Upload.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SearchBar from './SearchBar';\n//import { useNavigate } from 'react-router-dom';\n\nconst Upload = () => {\n  const [documents, setDocuments] = useState([]);\n  const [file, setFile] = useState(null);\n  const [author, setAuthor] = useState('');\n  const [category, setCategory] = useState('');\n  const [message, setMessage] = useState('');\n  const onFileChange = e => setFile(e.target.files[0]);\n  const onAuthorChange = e => setAuthor(e.target.value);\n  const onCategoryChange = e => setCategory(e.target.value);\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('Archivo', file);\n    formData.append('Autor', author);\n    formData.append('Categoría', category);\n    try {\n      const response = await axios.post(`http://127.0.0.1:5000/documents/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setMessage(response.data.message);\n    } catch (error) {\n      setMessage(error.response ? error.response.data.message : 'Error al subir el archivo');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Subir Archivo\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: onFileChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Autor\",\n    value: author,\n    onChange: onAuthorChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Categor\\xEDa\",\n    value: category,\n    onChange: onCategoryChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Subir\")), message && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  }, message), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 8\n    }\n  }, \"Lista de documentos\"), /*#__PURE__*/React.createElement(SearchBar, {\n    setDocuments: setDocuments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, documents.map(document => /*#__PURE__*/React.createElement(\"li\", {\n    key: document._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Nombre de archivo: \", document.filename), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Autor: \", document.author), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Categor\\xEDa: \", document.category), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Fecha: \", new Date(document.uploadDate).toLocaleString())))));\n};\nexport default Upload;","map":{"version":3,"names":["React","useState","useEffect","axios","SearchBar","Upload","documents","setDocuments","file","setFile","author","setAuthor","category","setCategory","message","setMessage","onFileChange","e","target","files","onAuthorChange","value","onCategoryChange","onSubmit","preventDefault","formData","FormData","append","response","post","headers","data","error","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","required","placeholder","map","document","key","_id","filename","Date","uploadDate","toLocaleString"],"sources":["C:/Users/Bruno/Desktop/Pryecto/frontend/src/components/Upload.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport SearchBar from './SearchBar';\r\n//import { useNavigate } from 'react-router-dom';\r\n\r\nconst Upload = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [file, setFile] = useState(null);\r\n  const [author, setAuthor] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const onFileChange = (e) => setFile(e.target.files[0]);\r\n  const onAuthorChange = (e) => setAuthor(e.target.value);\r\n  const onCategoryChange = (e) => setCategory(e.target.value);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('Archivo', file);\r\n    formData.append('Autor', author);\r\n    formData.append('Categoría', category);\r\n\r\n    try {\r\n      const response = await axios.post(`http://127.0.0.1:5000/documents/upload`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      setMessage(response.data.message);\r\n    } catch (error) {\r\n      setMessage(error.response ? error.response.data.message : 'Error al subir el archivo');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Subir Archivo</h1>\r\n      <form onSubmit={onSubmit}>\r\n        <input type=\"file\" onChange={onFileChange} required />\r\n        <input type=\"text\" placeholder=\"Autor\" value={author} onChange={onAuthorChange} required />\r\n        <input type=\"text\" placeholder=\"Categoría\" value={category} onChange={onCategoryChange} required />\r\n        <button type=\"submit\">Subir</button>\r\n        \r\n      </form>\r\n      \r\n      {message && <p>{message}</p>}\r\n       {/* Lista de documentos */}\r\n       <h2>Lista de documentos</h2>\r\n      <SearchBar setDocuments={setDocuments} />\r\n      <ul>\r\n        {documents.map((document) => (\r\n          <li key={document._id}>\r\n            <p>Nombre de archivo: {document.filename}</p>\r\n            <p>Autor: {document.author}</p>\r\n            <p>Categoría: {document.category}</p>\r\n            <p>Fecha: {new Date(document.uploadDate).toLocaleString()}</p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Upload;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,aAAa;AACnC;;AAEA,MAAMC,MAAM,GAAGA,CAAA,KAAM;EACnB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMe,YAAY,GAAIC,CAAC,IAAKR,OAAO,CAACQ,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EACtD,MAAMC,cAAc,GAAIH,CAAC,IAAKN,SAAS,CAACM,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC;EACvD,MAAMC,gBAAgB,GAAIL,CAAC,IAAKJ,WAAW,CAACI,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC;EAE3D,MAAME,QAAQ,GAAG,MAAON,CAAC,IAAK;IAC5BA,CAAC,CAACO,cAAc,CAAC,CAAC;IAClB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEnB,IAAI,CAAC;IAChCiB,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEjB,MAAM,CAAC;IAChCe,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEf,QAAQ,CAAC;IAEtC,IAAI;MACF,MAAMgB,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,IAAI,CAAC,wCAAwC,EAAEJ,QAAQ,EAAE;QACpFK,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MACFf,UAAU,CAACa,QAAQ,CAACG,IAAI,CAACjB,OAAO,CAAC;IACnC,CAAC,CAAC,OAAOkB,KAAK,EAAE;MACdjB,UAAU,CAACiB,KAAK,CAACJ,QAAQ,GAAGI,KAAK,CAACJ,QAAQ,CAACG,IAAI,CAACjB,OAAO,GAAG,2BAA2B,CAAC;IACxF;EACF,CAAC;EAED,oBACEd,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEvC,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,eAAiB,CAAC,eACtBvC,KAAA,CAAAiC,aAAA;IAAMV,QAAQ,EAAEA,QAAS;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvBvC,KAAA,CAAAiC,aAAA;IAAOO,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAEzB,YAAa;IAAC0B,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACtDvC,KAAA,CAAAiC,aAAA;IAAOO,IAAI,EAAC,MAAM;IAACG,WAAW,EAAC,OAAO;IAACtB,KAAK,EAAEX,MAAO;IAAC+B,QAAQ,EAAErB,cAAe;IAACsB,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC3FvC,KAAA,CAAAiC,aAAA;IAAOO,IAAI,EAAC,MAAM;IAACG,WAAW,EAAC,cAAW;IAACtB,KAAK,EAAET,QAAS;IAAC6B,QAAQ,EAAEnB,gBAAiB;IAACoB,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACnGvC,KAAA,CAAAiC,aAAA;IAAQO,IAAI,EAAC,QAAQ;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAa,CAE/B,CAAC,EAENzB,OAAO,iBAAId,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAIzB,OAAW,CAAC,eAE3Bd,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,qBAAuB,CAAC,eAC7BvC,KAAA,CAAAiC,aAAA,CAAC7B,SAAS;IAACG,YAAY,EAAEA,YAAa;IAAA2B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACzCvC,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACGjC,SAAS,CAACsC,GAAG,CAAEC,QAAQ,iBACtB7C,KAAA,CAAAiC,aAAA;IAAIa,GAAG,EAAED,QAAQ,CAACE,GAAI;IAAAb,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpBvC,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,qBAAmB,EAACM,QAAQ,CAACG,QAAY,CAAC,eAC7ChD,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,SAAO,EAACM,QAAQ,CAACnC,MAAU,CAAC,eAC/BV,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,gBAAW,EAACM,QAAQ,CAACjC,QAAY,CAAC,eACrCZ,KAAA,CAAAiC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,SAAO,EAAC,IAAIU,IAAI,CAACJ,QAAQ,CAACK,UAAU,CAAC,CAACC,cAAc,CAAC,CAAK,CAC3D,CACL,CACC,CACD,CAAC;AAEV,CAAC;AAED,eAAe9C,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}